{% extends "admin/admin.html" %}
{% block content %}
<div class="items-wrapper">
  <h2>Manage Reported Items</h2>

  {% if items %}
    <div class="items-grid">
      {% for item in items %}
        <div class="item-card">
          {% if item[5] %}
            <img src="{{ url_for('static', filename='uploads/' ~ item[5]) }}" alt="Item Photo">
          {% endif %}

          <h3>{{ item[1] }}
            {% if item[6] == 'found' %}
              <span class="badge found">Found</span>
            {% elif item[6] == 'lost' %}
              <span class="badge lost">Lost</span>
            {% elif item[6] == 'claimed' %}
              <span class="badge claimed">Claimed</span>
            {% endif %}
          </h3>

          <p><strong>Description:</strong> {{ item[2] }}</p>
          <p><strong>Location:</strong> {{ item[3] }}</p>
          <p><strong>Reported by:</strong> {{ item[7] }} on {{ item[4] }}</p>

          <div class="admin-actions">
            <a href="{{ url_for('admin_edit_item', item_id=item[0]) }}"><button class="edit-btn">Edit</button></a>
            <form method="POST" action="{{ url_for('admin_delete_item', item_id=item[0]) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
              <button type="submit" class="delete-btn">Delete</button>
            </form>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>No items found.</p>
  {% endif %}
</div>

{% endblock %}
