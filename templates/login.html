{% extends "base.html" %}
{% block content %}

<!-- Hide flash messages on the login page -->
<style>
.flash-wrap { display: none !important; }
</style>

<div class="auth-container">
  <div class="auth-box">
    <h2>Login</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-wrap">
          {% for category, message in messages %}
            <div class="flash {{ category }}">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST" class="auth-form">
      <input type="email" name="email" placeholder="Your Email" required>

      <!-- Password field with toggle -->
      <div class="password-field">
        <input type="password" id="password" name="password" placeholder="Password" required>
        <span class="toggle-password" onclick="togglePassword()">ğŸ‘ï¸</span>
      </div>

      <button type="submit">Login</button>
    </form>

    <p>Donâ€™t have an account? <a href="{{ url_for('register') }}">Register here</a></p>
  </div>
</div>

<!-- Toggle password visibility -->
<script>
function togglePassword() {
  const passwordInput = document.getElementById("password");
  const toggleIcon = document.querySelector(".toggle-password");
  const isHidden = passwordInput.type === "password";

  passwordInput.type = isHidden ? "text" : "password";
  toggleIcon.textContent = isHidden ? "ğŸ™ˆ" : "ğŸ‘ï¸";
}
</script>

{% endblock %}
